{"remainingRequest":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\src\\components\\BaseTimer.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\src\\components\\BaseTimer.vue","mtime":1608979272539},{"path":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpjb25zdCBGVUxMX0RBU0hfQVJSQVkgPSAyODM7DQpjb25zdCBXQVJOSU5HX1RIUkVTSE9MRCA9IDMwMDsNCmNvbnN0IEFMRVJUX1RIUkVTSE9MRCA9IDYwOw0KDQpjb25zdCBDT0xPUl9DT0RFUyA9IHsNCiAgaW5mbzogew0KICAgIGNvbG9yOiAiZ3JlZW4iDQogIH0sDQogIHdhcm5pbmc6IHsNCiAgICBjb2xvcjogIm9yYW5nZSIsDQogICAgdGhyZXNob2xkOiBXQVJOSU5HX1RIUkVTSE9MRA0KICB9LA0KICBhbGVydDogew0KICAgIGNvbG9yOiAicmVkIiwNCiAgICB0aHJlc2hvbGQ6IEFMRVJUX1RIUkVTSE9MRA0KICB9DQp9Ow0KDQpjb25zdCBUSU1FX0xJTUlUID0gMTIwMDsNCg0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB0aW1lUGFzc2VkOiAwLA0KICAgICAgdGltZXJJbnRlcnZhbDogbnVsbA0KICAgIH07DQogIH0sDQoNCiAgY29tcHV0ZWQ6IHsNCiAgICBjaXJjbGVEYXNoYXJyYXkoKSB7DQogICAgICByZXR1cm4gYCR7KHRoaXMudGltZUZyYWN0aW9uICogRlVMTF9EQVNIX0FSUkFZKS50b0ZpeGVkKDApfSAyODNgOw0KICAgIH0sDQoNCiAgICBmb3JtYXR0ZWRUaW1lTGVmdCgpIHsNCiAgICAgIGNvbnN0IHRpbWVMZWZ0ID0gdGhpcy50aW1lTGVmdDsNCiAgICAgIGNvbnN0IG1pbnV0ZXMgPSBNYXRoLmZsb29yKHRpbWVMZWZ0IC8gNjApOw0KICAgICAgbGV0IHNlY29uZHMgPSB0aW1lTGVmdCAlIDYwOw0KDQogICAgICBpZiAoc2Vjb25kcyA8IDEwKSB7DQogICAgICAgIHNlY29uZHMgPSBgMCR7c2Vjb25kc31gOw0KICAgICAgfQ0KDQogICAgICByZXR1cm4gYCR7bWludXRlc306JHtzZWNvbmRzfWA7DQogICAgfSwNCg0KICAgIHRpbWVMZWZ0KCkgew0KICAgICAgcmV0dXJuIFRJTUVfTElNSVQgLSB0aGlzLnRpbWVQYXNzZWQ7DQogICAgfSwNCg0KICAgIHRpbWVGcmFjdGlvbigpIHsNCiAgICAgIGNvbnN0IHJhd1RpbWVGcmFjdGlvbiA9IHRoaXMudGltZUxlZnQgLyBUSU1FX0xJTUlUOw0KICAgICAgcmV0dXJuIHJhd1RpbWVGcmFjdGlvbiAtICgxIC8gVElNRV9MSU1JVCkgKiAoMSAtIHJhd1RpbWVGcmFjdGlvbik7DQogICAgfSwNCg0KICAgIHJlbWFpbmluZ1BhdGhDb2xvcigpIHsNCiAgICAgIGNvbnN0IHsgYWxlcnQsIHdhcm5pbmcsIGluZm8gfSA9IENPTE9SX0NPREVTOw0KDQogICAgICBpZiAodGhpcy50aW1lTGVmdCA8PSBhbGVydC50aHJlc2hvbGQpIHsNCiAgICAgICAgcmV0dXJuIGFsZXJ0LmNvbG9yOw0KICAgICAgfSBlbHNlIGlmICh0aGlzLnRpbWVMZWZ0IDw9IHdhcm5pbmcudGhyZXNob2xkKSB7DQogICAgICAgIHJldHVybiB3YXJuaW5nLmNvbG9yOw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgcmV0dXJuIGluZm8uY29sb3I7DQogICAgICB9DQogICAgfQ0KICB9LA0KDQogIHdhdGNoOiB7DQogICAgdGltZUxlZnQobmV3VmFsdWUpIHsNCiAgICAgIGlmIChuZXdWYWx1ZSA9PT0gMCkgew0KICAgICAgICB0aGlzLm9uVGltZXNVcCgpOw0KICAgICAgfQ0KICAgIH0NCiAgfSwNCg0KICBtb3VudGVkKCkgew0KICAgIHRoaXMuc3RhcnRUaW1lcigpOw0KICB9LA0KDQogIG1ldGhvZHM6IHsNCiAgICBvblRpbWVzVXAoKSB7DQogICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXJJbnRlcnZhbCk7DQogICAgICB0aGlzLiRlbWl0KCJ0aW1lci1maW5pc2hlZCIpOw0KICAgIH0sDQoNCiAgICBzdGFydFRpbWVyKCkgew0KICAgICAgdGhpcy50aW1lckludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gKHRoaXMudGltZVBhc3NlZCArPSAxKSwgMTAwMCk7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["BaseTimer.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"BaseTimer.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"base-timer\">\r\n    <svg class=\"base-timer__svg\" viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <g class=\"base-timer__circle\">\r\n        <circle class=\"base-timer__path-elapsed\" cx=\"50\" cy=\"50\" r=\"45\" />\r\n        <path\r\n          :stroke-dasharray=\"circleDasharray\"\r\n          class=\"base-timer__path-remaining\"\r\n          :class=\"remainingPathColor\"\r\n          d=\"\r\n            M 50, 50\r\n            m -45, 0\r\n            a 45,45 0 1,0 90,0\r\n            a 45,45 0 1,0 -90,0\r\n          \"\r\n        />\r\n      </g>\r\n    </svg>\r\n    <span class=\"base-timer__label\">{{ formattedTimeLeft }}</span>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nconst FULL_DASH_ARRAY = 283;\r\nconst WARNING_THRESHOLD = 300;\r\nconst ALERT_THRESHOLD = 60;\r\n\r\nconst COLOR_CODES = {\r\n  info: {\r\n    color: \"green\"\r\n  },\r\n  warning: {\r\n    color: \"orange\",\r\n    threshold: WARNING_THRESHOLD\r\n  },\r\n  alert: {\r\n    color: \"red\",\r\n    threshold: ALERT_THRESHOLD\r\n  }\r\n};\r\n\r\nconst TIME_LIMIT = 1200;\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      timePassed: 0,\r\n      timerInterval: null\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    circleDasharray() {\r\n      return `${(this.timeFraction * FULL_DASH_ARRAY).toFixed(0)} 283`;\r\n    },\r\n\r\n    formattedTimeLeft() {\r\n      const timeLeft = this.timeLeft;\r\n      const minutes = Math.floor(timeLeft / 60);\r\n      let seconds = timeLeft % 60;\r\n\r\n      if (seconds < 10) {\r\n        seconds = `0${seconds}`;\r\n      }\r\n\r\n      return `${minutes}:${seconds}`;\r\n    },\r\n\r\n    timeLeft() {\r\n      return TIME_LIMIT - this.timePassed;\r\n    },\r\n\r\n    timeFraction() {\r\n      const rawTimeFraction = this.timeLeft / TIME_LIMIT;\r\n      return rawTimeFraction - (1 / TIME_LIMIT) * (1 - rawTimeFraction);\r\n    },\r\n\r\n    remainingPathColor() {\r\n      const { alert, warning, info } = COLOR_CODES;\r\n\r\n      if (this.timeLeft <= alert.threshold) {\r\n        return alert.color;\r\n      } else if (this.timeLeft <= warning.threshold) {\r\n        return warning.color;\r\n      } else {\r\n        return info.color;\r\n      }\r\n    }\r\n  },\r\n\r\n  watch: {\r\n    timeLeft(newValue) {\r\n      if (newValue === 0) {\r\n        this.onTimesUp();\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    this.startTimer();\r\n  },\r\n\r\n  methods: {\r\n    onTimesUp() {\r\n      clearInterval(this.timerInterval);\r\n      this.$emit(\"timer-finished\");\r\n    },\r\n\r\n    startTimer() {\r\n      this.timerInterval = setInterval(() => (this.timePassed += 1), 1000);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n.base-timer {\r\n  position: relative;\r\n  width: 5.5rem;\r\n  height: 5.5rem;\r\n\r\n  &__svg {\r\n    transform: scaleX(-1);\r\n  }\r\n\r\n  &__circle {\r\n    fill: none;\r\n    stroke: none;\r\n  }\r\n\r\n  &__path-elapsed {\r\n    stroke-width: 7px;\r\n    stroke: grey;\r\n  }\r\n\r\n  &__path-remaining {\r\n    stroke-width: 7px;\r\n    stroke-linecap: round;\r\n    transform: rotate(90deg);\r\n    transform-origin: center;\r\n    transition: 1s linear all;\r\n    fill-rule: nonzero;\r\n    stroke: currentColor;\r\n\r\n    &.green {\r\n      color: rgb(65, 184, 131);\r\n    }\r\n\r\n    &.orange {\r\n      color: orange;\r\n    }\r\n\r\n    &.red {\r\n      color: red;\r\n    }\r\n  }\r\n\r\n  &__label {\r\n    position: absolute;\r\n    width: 5.5rem;\r\n    height: 5.5rem;\r\n    top: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: white;\r\n    font-size: 1.5rem;\r\n  }\r\n}\r\n</style>\r\n"]}]}