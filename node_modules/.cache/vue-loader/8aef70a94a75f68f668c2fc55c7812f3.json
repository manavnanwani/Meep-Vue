{"remainingRequest":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\src\\views\\Design.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\src\\views\\Design.vue","mtime":1608979272554},{"path":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\Manav Nanwani\\Documents\\GitHub\\MFC-RecruitmentPortal-Frontend\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IEJhc2VUaW1lciBmcm9tICIuLi9jb21wb25lbnRzL0Jhc2VUaW1lciI7DQpleHBvcnQgZGVmYXVsdCB7DQogIG5hbWU6ICJEZXNpZ24iLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBxdWVzdGlvbnM6IFtdLA0KICAgICAgYW5zd2VyczogW10NCiAgICB9Ow0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgQmFzZVRpbWVyDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBzbGVlcChtcykgew0KICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gew0KICAgICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIG1zKTsNCiAgICAgIH0pOw0KICAgIH0sDQogICAgYXN5bmMgc2VuZEFuc3dlcnMoKSB7DQogICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUNCiAgICAgIHZhciBnZXRBUEkgPSBheGlvcy5jcmVhdGUoew0KICAgICAgICBiYXNlVVJMOiAiaHR0cHM6Ly9tZmNyZWNydWl0bWVudC5oZXJva3VhcHAuY29tLyIsDQogICAgICAgIHRpbWVvdXQ6IDMwMDAsDQogICAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzVG9rZW4iKQ0KICAgICAgICB9DQogICAgICB9KTsNCiAgICAgIHRoaXMucXVlc3Rpb25zLmZvckVhY2goaXRlbSA9PiB7DQogICAgICAgIHRoaXMuYW5zd2Vycy5wdXNoKHsNCiAgICAgICAgICBkb21haW46ICI0IiwNCiAgICAgICAgICBxdWVzdGlvbjogaXRlbS5xdWVzdGlvbiwNCiAgICAgICAgICBhbnN3ZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGl0ZW0ucXVlc3Rpb25faWQpLnZhbHVlDQogICAgICAgIH0pOw0KICAgICAgfSk7DQogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiZ2V0RGVzaWduIikuY2F0Y2goZXJyID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgIH0pOw0KICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lDQogICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgICBnZXRBUEkNCiAgICAgICAgICAucG9zdCgNCiAgICAgICAgICAgICJodHRwczovL21mY3JlY3J1aXRtZW50Lmhlcm9rdWFwcC5jb20vYXBpL3NlbmRfZGVzZ19yZXNwb25zZXMvIiwNCiAgICAgICAgICAgIHRoaXMuYW5zd2Vycw0KICAgICAgICAgICkNCiAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUNCiAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICJUZXN0VGhhbmtzIiB9KTsNCiAgICAgICAgICB9KQ0KICAgICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgICBhbGVydChlcnJvcik7DQogICAgICAgICAgfSk7DQogICAgICB9KTsNCiAgICB9DQogIH0sDQogIGJlZm9yZU1vdW50KCkgew0KICAgIGlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiRGVzaWduIikgPT0gInRydWUiKSB7DQogICAgICBhbGVydCgNCiAgICAgICAgIllvdSBoYXZlIGFscmVhZHkgYXR0ZW1wdGVkIHRoZSBEZXNpZ24gJiBNZWRpYSB0ZXN0ISBZb3UgY2FuIGF0dGVtcHQgaXQgb25seSBvbmNlISINCiAgICAgICk7DQogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3Rlc3QiKTsNCiAgICB9DQogICAgdmFyIGdldEFQSSA9IGF4aW9zLmNyZWF0ZSh7DQogICAgICBiYXNlVVJMOiAiaHR0cHM6Ly9tZmNyZWNydWl0bWVudC5oZXJva3VhcHAuY29tLyIsDQogICAgICB0aW1lb3V0OiAzMDAwLA0KICAgICAgaGVhZGVyczogew0KICAgICAgICBBdXRob3JpemF0aW9uOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWNjZXNzVG9rZW4iKQ0KICAgICAgfQ0KICAgIH0pOw0KICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXREZXNpZ24iKS5jYXRjaChlcnIgPT4gew0KICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICB9KTsNCiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgZ2V0QVBJDQogICAgICAgIC5nZXQoImh0dHBzOi8vbWZjcmVjcnVpdG1lbnQuaGVyb2t1YXBwLmNvbS9hcGkvZGVzaWducXVlc3Rpb25zLyIpDQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsNCiAgICAgICAgICB0aGlzLnF1ZXN0aW9ucyA9IHJlc3BvbnNlLmRhdGEud3JpdGU7DQogICAgICAgICAgcmVzb2x2ZSh0cnVlKTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICByZWplY3QoZXJyb3IpOw0KICAgICAgICB9KTsNCiAgICB9KTsNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["Design.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Design.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <b-container>\r\n    <b-row align-h=\"center\" align-v=\"center\">\r\n      <b-col cols=\"10\">\r\n        <h3 class=\"text-center text-moz-orange mt-1 mt-md-3\">\r\n          <strong>Design & Media Domain</strong>\r\n        </h3>\r\n        <br />\r\n        <center>\r\n          <BaseTimer @timer-finished=\"sendAnswers\" />\r\n        </center>\r\n        <br />\r\n        <br />\r\n        <div v-for=\"item in this.questions\" :key=\"item.question_id\">\r\n          <b-img-lazy class=\"site-desg-img m-2\" fluid-grow :src=\"item.question\"></b-img-lazy>\r\n          <textarea\r\n            rows=\"5\"\r\n            class=\"site-desg-ta m-2 px-5 py-4\"\r\n            :id=\"item.question_id\"\r\n            placeholder=\"Type your answer here!\"\r\n          >Type your answer here!</textarea>\r\n          <br />\r\n          <br />\r\n        </div>\r\n        <b-button @click=\"sendAnswers\" class=\"m-2\" block pill variant=\"moz-orange\">Submit</b-button>\r\n      </b-col>\r\n    </b-row>\r\n  </b-container>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\nimport BaseTimer from \"../components/BaseTimer\";\r\nexport default {\r\n  name: \"Design\",\r\n  data() {\r\n    return {\r\n      questions: [],\r\n      answers: []\r\n    };\r\n  },\r\n  components: {\r\n    BaseTimer\r\n  },\r\n  methods: {\r\n    sleep(ms) {\r\n      return new Promise(resolve => {\r\n        setTimeout(resolve, ms);\r\n      });\r\n    },\r\n    async sendAnswers() {\r\n      // eslint-disable-next-line\r\n      var getAPI = axios.create({\r\n        baseURL: \"https://mfcrecruitment.herokuapp.com/\",\r\n        timeout: 3000,\r\n        headers: {\r\n          Authorization: \"Bearer \" + localStorage.getItem(\"accessToken\")\r\n        }\r\n      });\r\n      this.questions.forEach(item => {\r\n        this.answers.push({\r\n          domain: \"4\",\r\n          question: item.question,\r\n          answer: document.getElementById(item.question_id).value\r\n        });\r\n      });\r\n      this.$store.dispatch(\"getDesign\").catch(err => {\r\n        console.log(err);\r\n      });\r\n      // eslint-disable-next-line\r\n      return new Promise((resolve, reject) => {\r\n        getAPI\r\n          .post(\r\n            \"https://mfcrecruitment.herokuapp.com/api/send_desg_responses/\",\r\n            this.answers\r\n          )\r\n          // eslint-disable-next-line\r\n          .then(response => {\r\n            this.$router.push({ name: \"TestThanks\" });\r\n          })\r\n          .catch(error => {\r\n            alert(error);\r\n          });\r\n      });\r\n    }\r\n  },\r\n  beforeMount() {\r\n    if (localStorage.getItem(\"Design\") == \"true\") {\r\n      alert(\r\n        \"You have already attempted the Design & Media test! You can attempt it only once!\"\r\n      );\r\n      this.$router.push(\"/test\");\r\n    }\r\n    var getAPI = axios.create({\r\n      baseURL: \"https://mfcrecruitment.herokuapp.com/\",\r\n      timeout: 3000,\r\n      headers: {\r\n        Authorization: \"Bearer \" + localStorage.getItem(\"accessToken\")\r\n      }\r\n    });\r\n    this.$store.dispatch(\"getDesign\").catch(err => {\r\n      console.log(err);\r\n    });\r\n    return new Promise((resolve, reject) => {\r\n      getAPI\r\n        .get(\"https://mfcrecruitment.herokuapp.com/api/designquestions/\")\r\n        .then(response => {\r\n          this.questions = response.data.write;\r\n          resolve(true);\r\n        })\r\n        .catch(error => {\r\n          reject(error);\r\n        });\r\n    });\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n.site-desg-img {\r\n  opacity: 0.8;\r\n}\r\n.site-desg-ta {\r\n  border-radius: 10px;\r\n  width: 100%;\r\n  font-size: 1.25rem;\r\n}\r\n</style>"]}]}